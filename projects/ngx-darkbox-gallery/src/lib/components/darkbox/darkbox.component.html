<div class="overlay">
  <button [ngClass]="getCloseButtonStyle()" class="close"
    [ngStyle]="{'background-color': getCloseButtonBackgroundColor(), 'color': getCloseButtonForegroundColor()}"
  (click)="onClose()">x</button>
  <!-- The loading animation -->
  @if (!fullSizedImageLoaded) {
    <lib-loading-animation [animationType]="darkboxConfiguration.loadingAnimation" />
  }
  <!-- The actual full sized image -->
  <div class="image" [ngStyle]="{'display': fullSizedImageLoaded ? '' : 'none'}">
    <img touchable src="{{image.url}}" alt="{{image.altText}}" (load)="onImageLoaded()" (swipe)="onSwipe($event)">
    @if (darkboxConfiguration.enableCaption) {
      <div class="caption"
        [ngStyle]="{'background-color': getCaptionBackgroundColor(), 'color': getCaptionForegroundColor()}">
        {{imageCaption}}
      </div>
    }
  </div>
  @if (hasPrev) {
    <button [ngClass]="getPrevNextButtonStyle()" class="prev"
      [ngStyle]="{'background-color': getPrevNextButtonBackgroundColor(), 'color': getPrevNextButtonForegroundColor()}"
    (click)="onPrev()">&lt;</button>
  }
  @if (hasNext) {
    <button [ngClass]="getPrevNextButtonStyle()" class="next"
      [ngStyle]="{'background-color': getPrevNextButtonBackgroundColor(), 'color': getPrevNextButtonForegroundColor()}"
    (click)="onNext()">&gt;</button>
  }
</div>
